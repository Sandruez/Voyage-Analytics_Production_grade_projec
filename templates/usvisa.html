<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voyage Analytics - Prediction Suite</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif; padding-bottom: 50px; }
        .task-card { background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 2rem; overflow: hidden; }
        .task-header { background-color: #343a40; color: white; padding: 15px 20px; font-weight: 600; font-size: 1.1rem; }
        .task-body { padding: 25px; }
        .result-box { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 15px; margin-top: 20px; font-family: monospace; white-space: pre-wrap; }
        .btn-custom { background-color: #00bcd4; color: white; border: none; }
        .btn-custom:hover { background-color: #008ba3; color: white; }
    </style>
</head>
<body>

    <header>
        <div class="container text-center">
            <h1>Voyage Analytics Interface</h1>
            <p class="lead text-muted">Unified Data Entry & Recommendation System</p>
        </div>
    </header>


    <div class="container">
        
        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <section class="task-card" id="flight-section">
            <div class="task-header">Task 1: Flight Price Prediction</div>
            <div class="task-body">
                <form action="/predict_flight" method="post">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Travel Code</label>
                            <input type="number" name="travelCode" class="form-control" placeholder="12345" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Agency</label>
                            <select name="agency" class="form-select" required>
                                <option value="Rainbow">Rainbow</option>
                                <option value="CloudFy">CloudFy</option>
                                <option value="FlyingDrops">FlyingDrops</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Date</label>
                            <input type="date" name="date" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">From</label>
                            <select name="from" class="form-select" required>
                                <option value="" selected disabled>Select a city</option>
                                <option value="Florianopolis (SC)">Florianopolis (SC)</option>
                                <option value="Aracaju (SE)">Aracaju (SE)</option>
                                <option value="Natal (RN)">Natal (RN)</option>
                                <option value="Brasilia (DF)">Brasilia (DF)</option>
                                <option value="Salvador (BH)">Salvador (BH)</option>
                                <option value="Campo Grande (MS)">Campo Grande (MS)</option>
                                <option value="Sao Paulo (SP)">Sao Paulo (SP)</option>
                                <option value="Recife (PE)">Recife (PE)</option>
                                <option value="Rio de Janeiro (RJ)">Rio de Janeiro (RJ)</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">To</label>
                            <select name="to" class="form-select" required>
                                <option value="" disabled selected>Select a destination</option>
                                <option value="Sao Paulo (SP)">Sao Paulo (SP)</option>
                                <option value="Campo Grande (MS)">Campo Grande (MS)</option>
                                <option value="Florianopolis (SC)">Florianopolis (SC)</option>
                                <option value="Brasilia (DF)">Brasilia (DF)</option>
                                <option value="Recife (PE)">Recife (PE)</option>
                                <option value="Natal (RN)">Natal (RN)</option>
                                <option value="Aracaju (SE)">Aracaju (SE)</option>
                                <option value="Salvador (BH)">Salvador (BH)</option>
                                <option value="Rio de Janeiro (RJ)">Rio de Janeiro (RJ)</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Flight Type</label>
                            <select name="flightType" class="form-select" required>
                                <option value="premium">Economy</option>
                                <option value="economic">Business</option>
                                <option value="firstClass">First</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Distance (km)</label>
                            <input type="number" step="0.1" name="distance" class="form-control" placeholder="4200.5" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Time (hours)</label>
                            <input type="number" step="0.1" name="time" class="form-control" placeholder="5.5" required>
                        </div>
                        <div class="col-md-12">
                            <label class="form-label">Current Price (for reference)</label>
                            <input type="number" step="0.01" name="price" class="form-control" placeholder="299.99" required>
                        </div>
                        <div class="col-12 mt-3">
                            <button type="submit" class="btn btn-custom w-100">Predict Price</button>
                        </div>
                    </div>
                </form>
                {% if result_flight %}
                <div class="result-box"><strong>Result:</strong><br>{{ result_flight | tojson(indent=2) }}</div>
                {% endif %}
            </div>
        </section>

        <section class="task-card" id="gender-section">
            <div class="task-header">Task 2: Gender Classification</div>
            <div class="task-body">
                <form action="/predict_gender" method="post">
                    <div class="mb-3">
                        <label class="form-label">Full Name</label>
                        <input type="text" name="fullName" class="form-control" placeholder="e.g. Sarah Connor" required minlength="2">
                        <div class="form-text">Model will predict gender based on name string.</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Cultural Context</label>
                        <select name="context" class="form-select">
                            <option value="Global">Global</option>
                            <option value="USA">USA</option>
                            <option value="India">India</option>
                            <option value="China">China</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-custom w-100">Predict Gender</button>
                </form>
                {% if result_gender %}
                <div class="result-box"><strong>Result:</strong><br>{{ result_gender | tojson(indent=2) }}</div>
                {% endif %}
            </div>
        </section>

        <section class="task-card" id="hotel-section">
            <div class="task-header">Task 3: Hotel Recommendation</div>
            <div class="task-body">
                <form action="/recommend_hotel" method="post">
                    <div class="row g-3">
                        <div class="col-12">
                            <label class="form-label">Reference Hotel (Select One)</label>
                            <select name="hotelSelect" class="form-select" required>
                                <option value="" disabled selected>Choose a hotel...</option>
                                <option value="Hotel A">Hotel A - Florianopolis (SC) [$313.02]</option>
                                <option value="Hotel AF">Hotel AF - Sao Paulo (SP) [$139.1]</option>
                                <option value="Hotel AU">Hotel AU - Recife (PE) [$312.83]</option>
                                <option value="Hotel BD">Hotel BD - Natal (RN) [$242.88]</option>
                                <option value="Hotel BP">Hotel BP - Brasilia (DF)</option>
                                <option value="Hotel BW">Hotel BW - Campo Grande (MS)</option>
                                <option value="Hotel CB">Hotel CB - Rio de Janeiro (RJ)</option>
                                <option value="Hotel K">Hotel K - Salvador (BH)</option>
                                <option value="Hotel Z">Hotel Z - Aracaju (SE)</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Stay Duration (Days)</label>
                            <input type="number" name="stayDays" class="form-control" min="1" max="365" value="1" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Price Preference</label>
                            <select name="pricePref" class="form-select">
                                <option value="Any">Any</option>
                                <option value="Budget">Budget</option>
                                <option value="Luxury">Luxury</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Popularity</label>
                            <select name="popPref" class="form-select">
                                <option value="Any">Any</option>
                                <option value="High">High</option>
                                <option value="Low">Low</option>
                            </select>
                        </div>
                        <div class="col-12 mt-3">
                            <button type="submit" class="btn btn-custom w-100">Get Recommendations</button>
                        </div>
                    </div>
                </form>
                {% if result_hotel %}
                <div class="result-box"><strong>Result:</strong><br>{{ result_hotel | tojson(indent=2) }}</div>
                {% endif %}
            </div>
        </section>

    </div>
    <script>
        // Scroll to active result if present
        
    </script>
</body>
</html>